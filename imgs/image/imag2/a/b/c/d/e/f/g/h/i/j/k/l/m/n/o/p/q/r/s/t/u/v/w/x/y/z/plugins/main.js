const config = require('../config')
const { cmd, commands } = require('../command')
const { getBuffer, getGroupAdmins, getRandom, h2k, isUrl, Json, runtime, sleep, fetchJson} = require('../lib/sachibot')
cmd({
    pattern: "alive",
    react: "ðŸ‘¾",
    alias: ["online","test","bot"],
    desc: "Check bot online or no.",
    category: "main",
    use: '.alive',
    filename: __filename
},
async(conn, mek, m,{from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply}) => {
try{
await conn.sendMsg(from, { image: { url: config.LOGO }, caption: config.ALIVE }, { quoted: mek })
} catch (e) {
reply('*Error !!*')
l(e)
}
})

cmd({
    pattern: "ping",
    react: "ðŸ“Ÿ",
    alias: ["speed"],
    desc: "Check bot\'s ping",
    category: "main",
    use: '.ping',
    filename: __filename
},
async(conn, mek, m,{from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply}) => {
try{
var inital = new Date().getTime();
let ping = await conn.sendMsg(from , { text: '```Pinging To index.js!!!```'  }, { quoted: mek } )
var final = new Date().getTime();
await conn.sendMsg(from, { delete: ping })
return await conn.sendMsg(from , { text: '*Pong*\n *' + (final - inital) + ' ms* '  }, { quoted: mek } )
} catch (e) {
reply('*Error !!*')
l(e)
}
})

cmd({
    pattern: "menu",
    react: "ðŸ‘¾",
    alias: ["panel","list","commands"],
    desc: "Get bot\'s command list.",
    category: "main",
    use: '.menu',
    filename: __filename
},
async(conn, mek, m,{from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply}) => {
try{
    let menuc1 = ``
for (let i=0;i<commands.length;i++) { 
if(commands[i].category === 'admin'){
if(!commands[i].dontAddCommandList){
menuc1 += `*â”‚â–º* .${commands[i].pattern}\n`
}}};

let menuc2 = ``
for (let i=0;i<commands.length;i++) { 
  if(commands[i].category === 'main'){
  if(!commands[i].dontAddCommandList){
  menuc2 += `*â”‚â–º* .${commands[i].pattern}\n`
  }}};

let menuc3 = ``
for (let i=0;i<commands.length;i++) { 
if(commands[i].category === 'convert'){
  if(!commands[i].dontAddCommandList){
    menuc3 += `*â”‚â–º* .${commands[i].pattern}\n`
}}};

let menuc4 = ``
for (let i=0;i<commands.length;i++) { 
if(commands[i].category === 'search'){
  if(!commands[i].dontAddCommandList){
menuc4 += `*â”‚â–º* .${commands[i].pattern}\n`
}}};

let menuc = ``
for (let i=0;i<commands.length;i++) { 
if(commands[i].category === 'download'){
  if(!commands[i].dontAddCommandList){
menuc += `*â”‚â–º* .${commands[i].pattern}\n`
}}};

let menuc6 = ``
for (let i=0;i<commands.length;i++) { 
if(commands[i].category === 'owner'){
if(!commands[i].dontAddCommandList){
  menuc6 += `*â”‚â–º* .${commands[i].pattern}\n`
}}};
let menumg = `*HELLO ${pushname}*

*â•­â”€ã€Œ á´„á´á´á´á´€É´á´…êœ± á´˜á´€É´á´‡ÊŸã€*
*â”‚â—ˆ ðšð™°ð™¼ ðš„ðš‚ð™°ð™¶ð™´ -* ${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)}MB / ${Math.round(require('os').totalmem / 1024 / 1024)}MB
*â”‚â—ˆ ðšðš„ð™½ðšƒð™¸ð™¼ð™´ -* ${runtime(process.uptime())}
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º
*â”‚ðŸ‘¾MAIN COMMANDS*
â”‚   â”€â”€â”€â”€â”€â”€â”€
${menuc2}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º
*â”‚ðŸ’°DOWNLOAD COMMANDS*
â”‚   â”€â”€â”€â”€â”€â”€â”€
${menuc}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º
*â”‚ðŸ”SEARCH COMMANDS*
â”‚   â”€â”€â”€â”€â”€â”€â”€
${menuc4}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º`
await conn.sendMsg(from, { image: { url: config.LOGO }, caption: menumg }, { quoted: mek })
} catch (e) {
reply('*Error !!*')
l(e)
}
})